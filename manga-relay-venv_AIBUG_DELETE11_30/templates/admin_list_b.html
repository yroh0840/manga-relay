<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ç®¡ç†ç”»é¢ B</title>
    <style>
        .grid { display: flex; flex-wrap: wrap; gap: 20px; }
        .comic-card {
            width: 250px;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
        }
        .deleted { opacity: 0.4; }
        img { width: 100%; }
    </style>
</head>
<body>

<h1>ç®¡ç†ç”»é¢ Bï¼ˆã‚«ãƒ¼ãƒ‰è¡¨ç¤ºï¼‰</h1>

<div class="grid">
{% for comic in comics %}
<div class="comic-card {% if comic.is_deleted %}deleted{% endif %}">
    <h3>{{ comic.title }}</h3>

    {% set komas = comic.komas.order_by(Koma.id).all() %}
    {% if komas %}
        <img src="{{ url_for('uploaded_file', filename=komas[0].image_path) }}">
    {% endif %}

    {% if not comic.is_deleted %}
        <form action="{{ url_for('admin_soft_delete_comic', comic_id=comic.id) }}" method="POST">
            <button type="submit">ğŸ“• ã‚³ãƒŸãƒƒã‚¯å‰Šé™¤</button>
        </form>
    {% else %}
        <form action="{{ url_for('admin_restore_comic', comic_id=comic.id) }}" method="POST">
            <button type="submit">â™»ï¸ å¾©å…ƒ</button>
        </form>
    {% endif %}
</div>
{% endfor %}
</div>

</body>
</html>
